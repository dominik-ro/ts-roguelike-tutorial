
Part 0 - Setting Up
===================

--------------------------------------------------------------------------------

## 1. About

- Following r/roguelikedev's [Complete Roguelike Tutorial 2020 event](https://www.reddit.com/r/roguelikedev/comments/grccvt/roguelikedev_does_the_complete_roguelike_tutorial/)
- Which follows this [Python+TCOD Tutorial](http://rogueliketutorials.com/tutorials/tcod/)
- We will use Typescript and rot.js instead, yay!

### Prior Knowledge
- Fundamental programming skills
- Basic familiarity with JS (ES6+) and preferably HTML and CSS
- I will explain difference between JS and TS along the way
- I will guide you through setting up the project using npm/nodejs

### Resources
- See video description.
- There will be a git repository, promise.
- [rot.js website](http://ondras.github.io/rot.js/hp/)
- [rot.js manual](http://ondras.github.io/rot.js/manual/#intro)
- [rot.js source](https://github.com/ondras/rot.js)
- [rot.js documentation (it's a bit bare bones)](http://ondras.github.io/rot.js/doc/)
- [Typescript documentation](https://www.typescriptlang.org/docs/index.html)
- [r/roguelikedev](https://www.reddit.com/r/roguelikedev)

--------------------------------------------------------------------------------

## 2. Setup

### Installing Node.js 
Recommended version: 12.18.0

#### Linux/POSIX
- Easy: Use your package manager (if it can provide 12.xx)
- Recommended: Use [NVM](https://github.com/nvm-sh/nvm)

#### Windows
- [Download from nodejs.org](https://nodejs.org/dist/v12.18.0/node-v12.18.0-x86.msi)

### Choosing a Text Editor
- Any editor you are comfortable with (some form of TS support is recommended).
- Good choice for TS: [visual studio code](https://code.visualstudio.com/)

### Choosing a Shell
#### Linux/POSIX 
You know what to do...

#### Windows
- Node.js provides a properly set up command line profile
- vscode has a terminal emulator built in that should be sufficient
- Other options exist.

### Creating a Project 
- create a project directory 
- create two subdirectories: 
    - `src`  for code 
    - `dist` for the webpage
- run `npm init` (defaults are fine until you release)
- install npm packages: 
  - rot-js:               roguelike toolkit
  - webpack:              kitchen sink bundler/task runner etc.
  - webpack-dev-server:   QoL server for easier development
  - webpack-cli:          needed by webpack-dev-server
  - typescript:           installs the compiler among other things
  - ts-loader:            allows webpack to handle typescript compiling.

--------------------------------------------------------------------------------

```sh
npm install --save-dev rot-js@2.1.3 webpack@4.43.0 webpack-dev-server@3.11.0 webpack-cli@3.3.11 typescript@3.9.5 ts-loader@7.0.5
```


--------------------------------------------------------------------------------

#### Configuring Typescript
- run `npx tsc --init` and edit `tsconfig.json`

```json
{
  "compilerOptions": {
    "target": "es2018",
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "strictBindCallApply": true,
    "strictPropertyInitialization": true,
    "noImplicitThis": true,
    "alwaysStrict": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  }
}
```

--------------------------------------------------------------------------------

#### Configuring Webpack

- create and edit `webpack.config.js`:

```javascript
const path = require('path');
const dist = path.join(__dirname, 'dist');
const src = path.join(__dirname, 'src');

module.exports = {
    mode: 'development',
    entry: path.join(src, 'index.ts'),
    devtool: 'inline-source-map',
    devServer: {
        contentBase: dist,
        watchContentBase: true
    },
    module: {
        rules: [{
            test: /\.ts$/,
            use: 'ts-loader',
            exclude: /node_modules/,
        }],
    },
    resolve: {
        extensions: [ '.ts', '.js' ],
    },
    output: {
        filename: 'bundle.js',
        path: dist
    },
};
```

--------------------------------------------------------------------------------

## 3. Hello World

--------------------------------------------------------------------------------

### A fistful of HTML

Create `dist/index.html`:

```html
<!DOCTYPE html>
<html>
    <head>
        <title>My awesome RL!</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <script src="bundle.js">JavaScript is disabled.</script>
    </body>
</html>
```

--------------------------------------------------------------------------------

### An ounce of code

Create `src/index.ts`:

```typescript
const headlineElem = document.createElement(`h1`);
headlineElem.innerText = `Hello, World!`;
document.body.appendChild(headlineElem);
```


--------------------------------------------------------------------------------

### Insert Frankenstein quote here

- Run `npx webpack-dev-server` in a new terminal.
- Open the url in your browser (typically `localhost:8080`).

--------------------------------------------------------------------------------

### Sprinkle some CSS on top

Let's make it look nice and gloomy. Create `dist/style.css`:

```css
html {
    background-color: #333333;
    color: white;
}
```
--------------------------------------------------------------------------------
## Thanks for watching! See you in Part 1.

